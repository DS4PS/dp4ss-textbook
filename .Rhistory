set2$x,
set3$x,
set4$x), var)
svar_y <- sapply(list(set1$y,
set2$y,
set3$y,
set4$y), var)
svar_y
svar_y
cor(set1$x, set1$y)
sapply(list(set1$y,
set2$y,
set3$y,
set4$y),
list(set1$x,
set2$x,
set3$x,
set4$x) cor)
sapply(list(set1$y,
set2$y,
set3$y,
set4$y),
list(set1$x,
set2$x,
set3$x,
set4$x), cor)
sapply(list(list(set1$y,
set2$y,
set3$y,
set4$y),
list(set1$x,
set2$x,
set3$x,
set4$x)), cor)
cor(set1$x, set1$y)
cor(set2$x, set1$y)
cor(set3$x, set1$y)
cor(set4$x, set1$y)
cor_xy <- c(cor(set1$x, set1$y),
cor(set2$x, set1$y),
cor(set3$x, set1$y),
cor(set4$x, set1$y))
cor_xy
cor_xy <- c(cor(set1$x, set1$y),
cor(set2$x, set2$y),
cor(set3$x, set3$y),
cor(set4$x, set4$y))
cor_xy
lm(y ~ x, set1)
lm(y ~ x, set2)
cof_xy <- c(lm(y ~ x, set1),
lm(y ~ x, set2),
lm(y ~ x, set3),
lm(y ~ x, set4))
cof_xy
cof_xy <- c(lm(y ~ x, set1)$coef,
lm(y ~ x, set2)$coef,
lm(y ~ x, set3)$coef,
lm(y ~ x, set4)$coef)
cof_xy
x_mean <- sapply(list(set1$x,
set2$x,
set3$x,
set4$x), mean)
y_mean <- sapply(list(set1$y,
set2$y,
set3$y,
set4$y), mean)
x_variance <- sapply(list(set1$x,
set2$x,
set3$x,
set4$x), var)
y_variance <- sapply(list(set1$y,
set2$y,
set3$y,
set4$y), var)
correlation <- c(cor(set1$x, set1$y),
cor(set2$x, set2$y),
cor(set3$x, set3$y),
cor(set4$x, set4$y))
coefficient <- c(lm(y ~ x, set1)$coef,
lm(y ~ x, set2)$coef,
lm(y ~ x, set3)$coef,
lm(y ~ x, set4)$coef)
coefficient <- c(lm(y ~ x, set1)$coef[2],
lm(y ~ x, set2)$coef[2],
lm(y ~ x, set3)$coef[2],
lm(y ~ x, set4)$coef[2])
coefficient
data.frame(x_mean, y_mean, x_variance, y_variance, correlation, coefficient)
data.frame(x_mean,
y_mean,
x_var,
y_var,
correl,
coeff)
x_mean <- sapply(list(set1$x,
set2$x,
set3$x,
set4$x), mean)
y_mean <- sapply(list(set1$y,
set2$y,
set3$y,
set4$y), mean)
x_var <- sapply(list(set1$x,
set2$x,
set3$x,
set4$x), var)
y_var <- sapply(list(set1$y,
set2$y,
set3$y,
set4$y), var)
correl <- c(cor(set1$x, set1$y),
cor(set2$x, set2$y),
cor(set3$x, set3$y),
cor(set4$x, set4$y))
coeff <- c(lm(y ~ x, set1)$coef[2],
lm(y ~ x, set2)$coef[2],
lm(y ~ x, set3)$coef[2],
lm(y ~ x, set4)$coef[2])
data.frame(x_mean,
y_mean,
x_var,
y_var,
correl,
coeff)
anscombe
data.frame(x_mean,
y_mean,
x_var,
y_var,
correl,
coeff,
row.names = c("Set 1", "Set 2", "Set 3", "Set 4"))
data.frame(`Mean of X` = x_mean,
y_mean,
x_var,
y_var,
correl,
coeff,
row.names = c("Set 1", "Set 2", "Set 3", "Set 4"))
data.frame("Mean of X" = x_mean,
y_mean,
x_var,
y_var,
correl,
coeff,
row.names = c("Set 1", "Set 2", "Set 3", "Set 4"))
t(anscombe)
anscombe
anscombe %>%
gather(key = set_var, value = value, x1:y4)
anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = NA)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = NA)
for (i in seq_along(ansc$set_var)){
if(grepl(ansc$set_var[i], "1")){
ansc$set[i] <- 1
} else if (grepl(ansc$set_var[i], "2")){
ansc$set[i] <- 2
} else if (grepl(ansc$set_var[i], "3")){
ansc$set[i] <- 3
} else if (grepl(ansc$set_var[i], "4")){
ansc$set[i] <- 4
}
}
View(ansc)
grepl(ansc$set_var[4], "4")
grepl(ansc$set_var[10], "4")
grepl(ansc$set_var[17], "4")
grepl(ansc$set_var[40], "4")
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = NA)
for (i in seq_along(ansc$set_var)){
if(grepl(ansc$set_var[i], "1")){
ansc$set[i] <- 1
} else if (grepl(ansc$set_var[i], "2")){
ansc$set[i] <- 2
} else if (grepl(ansc$set_var[i], "3")){
ansc$set[i] <- 3
} else if (grepl(ansc$set_var[i], "4")){
ansc$set[i] <- 4
}
}
View(ansc)
for (i in seq_along(ansc$set_var)){
if(grepl(ansc$set_var[i], "1")){
ansc$set[i] <- "1"
} else if (grepl(ansc$set_var[i], "2")){
ansc$set[i] <- "2"
} else if (grepl(ansc$set_var[i], "3")){
ansc$set[i] <- "3"
} else if (grepl(ansc$set_var[i], "4")){
ansc$set[i] <- "4"
}
}
seq_along(ansc$set_var)
ansc$set <- NA
for (i in seq_along(ansc$set_var)){
if(grepl(ansc$set_var[i], "1")){
ansc$set[i] <- "1"
} else if (grepl(ansc$set_var[i], "2")){
ansc$set[i] <- "2"
} else if (grepl(ansc$set_var[i], "3")){
ansc$set[i] <- "3"
} else if (grepl(ansc$set_var[i], "4")){
ansc$set[i] <- "4"
}
}
View(ansc)
for (i in seq_along(ansc$set_var)){
if(grepl(ansc$set_var[i], "1$")){
ansc$set[i] <- "1"
} else if (grepl(ansc$set_var[i], "2$")){
ansc$set[i] <- "2"
} else if (grepl(ansc$set_var[i], "3$")){
ansc$set[i] <- "3"
} else if (grepl(ansc$set_var[i], "4$")){
ansc$set[i] <- "4"
}
}
for (i in seq_along(ansc$set_var)){
if(grepl(ansc$set_var[i], "x1")){
ansc$set[i] <- "1"
} else if (grepl(ansc$set_var[i], "x2$")){
ansc$set[i] <- "2"
} else if (grepl(ansc$set_var[i], "x3$")){
ansc$set[i] <- "3"
} else if (grepl(ansc$set_var[i], "x4$")){
ansc$set[i] <- "4"
}
}
for (i in seq_along(ansc$set_var)){
if(grepl(ansc$set_var[i], "[xy]{1}1")){
ansc$set[i] <- "1"
} else if (grepl(ansc$set_var[i], "[xy]{1}2$")){
ansc$set[i] <- "2"
} else if (grepl(ansc$set_var[i], "[xy]{1}3$")){
ansc$set[i] <- "3"
} else if (grepl(ansc$set_var[i], "[xy]{1}4$")){
ansc$set[i] <- "4"
}
}
for (i in seq_along(ansc$set_var)){
if(grepl(ansc$set_var[i], "[x-y]{1}1")){
ansc$set[i] <- "1"
} else if (grepl(ansc$set_var[i], "[x-y]{1}2$")){
ansc$set[i] <- "2"
} else if (grepl(ansc$set_var[i], "[x-y]{1}3$")){
ansc$set[i] <- "3"
} else if (grepl(ansc$set_var[i], "[x-y]{1}4$")){
ansc$set[i] <- "4"
}
}
for (i in seq_along(ansc$set_var)){
if(grepl(ansc$set_var[i], "^[x-y]{1}1")){
ansc$set[i] <- "1"
} else if (grepl(ansc$set_var[i], "^[x-y]{1}2$")){
ansc$set[i] <- "2"
} else if (grepl(ansc$set_var[i], "^[x-y]{1}3$")){
ansc$set[i] <- "3"
} else if (grepl(ansc$set_var[i], "^[x-y]{1}4$")){
ansc$set[i] <- "4"
}
}
View(ansc)
for (i in seq_along(ansc$set_var)){
if(grepl(ansc$set_var[i], "^.{1}1")){
ansc$set[i] <- "1"
} else if (grepl(ansc$set_var[i], "^.{1}2$")){
ansc$set[i] <- "2"
} else if (grepl(ansc$set_var[i], "^.{1}3$")){
ansc$set[i] <- "3"
} else if (grepl(ansc$set_var[i], "^.{1}4$")){
ansc$set[i] <- "4"
}
}
View(ansc)
for (i in seq_along(ansc$set_var)){
if(grepl(ansc$set_var[i], ".{1}1")){
ansc$set[i] <- "1"
} else if (grepl(ansc$set_var[i], ".{1}2$")){
ansc$set[i] <- "2"
} else if (grepl(ansc$set_var[i], ".{1}3$")){
ansc$set[i] <- "3"
} else if (grepl(ansc$set_var[i], ".{1}4$")){
ansc$set[i] <- "4"
}
}
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = grep(x = set_var, pattern = "[1-4]{1}"))
ansc
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = grep(x = ansc$set_var, pattern = "[1-4]{1}"))
ansc
grep(x = ansc$set_var, pattern = "[1]{1}")
library(stringr)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(x = set_var, pattern = "[1-4]{1}"))
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"))
ansc
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}")) %>%
spread(key = set_var, value = value)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}")) %>%
spread(key = set_var, value = value, x1:y4)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}")) %>%
spread(key = set_var, value = value)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"))
ansc
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"),
var = str_extract(set_var, pattern = "[x-y]{1}"))
ansc
View(ansc)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"),
var = str_extract(set_var, pattern = "[x-y]{1}")) %>%
select(-set_var)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"),
var = str_extract(set_var, pattern = "[x-y]{1}")) %>%
select(-set_var) %>%
spread(key = set, value = var, fill = value)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"),
var = str_extract(set_var, pattern = "[x-y]{1}")) %>%
select(-set_var) %>%
spread(key = set, value = var)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"),
var = str_extract(set_var, pattern = "[x-y]{1}")) %>%
select(-set_var) %>%
spread(key = var, value = value)
?spread
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"),
var = str_extract(set_var, pattern = "[x-y]{1}")) %>%
select(-set_var) %>%
spread(var, set)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"),
var = str_extract(set_var, pattern = "[x-y]{1}")) %>%
select(-set_var) %>%
spread(set, value)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"),
var = str_extract(set_var, pattern = "[x-y]{1}")) %>%
select(-set_var) %>%
spread(var, value)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"),
var = str_extract(set_var, pattern = "[x-y]{1}")) %>%
select(-set_var) %>%
spread(var, set, value)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"),
var = str_extract(set_var, pattern = "[x-y]{1}")) %>%
select(-set_var) %>%
spread(var:set, value)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"),
var = str_extract(set_var, pattern = "[x-y]{1}")) %>%
select(-set_var) %>%
spread(key = var:set, value)
ansc <- anscombe %>%
gather(key = set_var, value = value, x1:y4) %>%
mutate(set = str_extract(set_var, pattern = "[1-4]{1}"),
var = str_extract(set_var, pattern = "[x-y]{1}")) %>%
select(-set_var)
dim(ansc)
ansc[1:44, 1:3]
spread(data = ansc, key = set, value = value))
spread(data = ansc, key = set, value = value)
spread(data = ansc, key = c(set, var), value = value)
spread(data = ansc, key = set, var, value = value)
spread(data = ansc, key = list(set, var), value = value)
spread(data = ansc, key = set, value = value, var)
spread(data = ansc, key = var, value = value, set)
spread(data = ansc, var, set)
spread(data = ansc, var, value)
spread(data = ansc, set, value)
spread(data = ansc, set, var)
spread(data = ansc, set, var, value)
ansc[1:44, 1:3]
ansc[45:88, 1:3]
bind_cols(ansc[1:44, 1:3], ansc[45:88, 1:3])
anscombe
ansc[1:44, 1:3] %>%
rename(value = x)
ansc[1:44, 1:3] %>%
rename(value = "x")
tibble(ansc[1:44, 1:3]) %>%
rename(value = "x")
ansc[1:44, 1:3] %>%
rename(x = value)
ansc[45:88, 1:3] %>%
rename(y = value)
ansc[45:88, 1:3] %>%
rename(y = value) %>%
select(-var)
bind_cols(ansc[1:44, 1:3] %>%
rename(x = value) %>%
select(-var),
ansc[45:88, 1:3] %>%
rename(y = value) %>%
select(-var))
bind_cols(ansc[1:44, 1:3] %>%
rename(x = value) %>%
select(-var),
ansc[45:88, 1:3] %>%
rename(y = value) %>%
select(-var)) %>%
select(-set1)
bind_cols(ansc[1:44, 1:3] %>%
rename(x = value) %>%
select(-var),
ansc[45:88, 1:3] %>%
rename(y = value) %>%
select(-var)) %>%
select(set, x, y, -set1)
xy <- bind_cols(ansc[1:44, 1:3] %>%
rename(x = value) %>%
select(-var),
ansc[45:88, 1:3] %>%
rename(y = value) %>%
select(-var)) %>%
select(set, x, y, -set1)
ggplot(xy, aes(x = x, y = y)) %>%
geom_smooth(method = "lm") %>%
theme_classic()
xy
ggplot(data = xy, aes(x = x, y = y)) %>%
geom_smooth(method = "lm") %>%
theme_classic()
ggplot(data = xy,
mapping = aes(x = x, y = y)) %>%
geom_smooth(method = "lm") %>%
theme_classic()
ggplot(xy, aes(x = x, y = y)) +
geom_smooth(method = "lm") +
theme_class
ggplot(xy, aes(x = x, y = y)) +
geom_smooth(method = "lm") +
theme_classic()
ggplot(xy, aes(x = x, y = y)) +
geom_smooth(method = "lm") +
facet_grid(~set) +
theme_classic()
ggplot(xy, aes(x = x, y = y)) +
geom_smooth(method = "lm") +
facet_wrap(~set) +
theme_classic()
ggplot(xy, aes(x = x, y = y)) +
geom_smooth(method = "lm", se = FALSE) +
facet_wrap(~set) +
theme_classic()
ggplot(xy, aes(x = x, y = y)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE) +
facet_wrap(~set) +
labs(title = "Linear relationship in Anscombe's Datasets",
x = "X Values",
y = "Y Values",
caption = "Source: Francis Anscombe (1973)") +
theme_classic()
ggplot(xy, aes(x = x, y = y)) +
geom_point() +
geom_smooth(method = "lm", se = FALSE, alpha = 0.3) +
facet_wrap(~set) +
labs(title = "Linear relationship in Anscombe's Datasets",
x = "X Values",
y = "Y Values",
caption = "Source: Francis Anscombe (1973)") +
theme_classic()
ggplot(xy, aes(x = x, y = y)) +
geom_point(size = 2, alpha = 0.5) +
geom_smooth(method = "lm", se = FALSE, alpha = 0.3) +
facet_wrap(~set) +
labs(title = "Actual relationships in Anscombe's Datasets",
subtitle = "You've been had!",
x = "X Values",
y = "Y Values",
caption = "Source: Francis Anscombe (1973)") +
theme_classic()
